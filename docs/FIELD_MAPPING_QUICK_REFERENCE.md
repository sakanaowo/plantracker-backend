# üìä QUICK REFERENCE: FIELD MAPPING SNAKE_CASE ‚Üí CAMELCASE

**Quick lookup table cho Backend developers**

---

## üéØ COMMON FIELDS (All Entities)

| ‚ùå Database (snake_case) | ‚úÖ API Response (camelCase) | Type          | Notes       |
| ------------------------ | --------------------------- | ------------- | ----------- |
| `id`                     | `id`                        | UUID          | Unchanged   |
| `created_at`             | `createdAt`                 | ISO 8601      | Timestamp   |
| `updated_at`             | `updatedAt`                 | ISO 8601      | Timestamp   |
| `deleted_at`             | `deletedAt`                 | ISO 8601/null | Soft delete |

---

## üìã TASKS

| ‚ùå Database              | ‚úÖ API                 | Type          | Required |
| ------------------------ | ---------------------- | ------------- | -------- |
| `project_id`             | `projectId`            | UUID          | ‚úÖ       |
| `board_id`               | `boardId`              | UUID          | ‚úÖ       |
| `assignee_id`            | `assigneeId`           | UUID/null     | ‚ùå       |
| `created_by`             | `createdBy`            | UUID/null     | ‚ùå       |
| `due_at`                 | `dueAt`                | ISO 8601/null | ‚ùå       |
| `start_at`               | `startAt`              | ISO 8601/null | ‚ùå       |
| `issue_key`              | `issueKey`             | string/null   | ‚ùå       |
| `sprint_id`              | `sprintId`             | UUID/null     | ‚ùå       |
| `epic_id`                | `epicId`               | UUID/null     | ‚ùå       |
| `parent_task_id`         | `parentTaskId`         | UUID/null     | ‚ùå       |
| `story_points`           | `storyPoints`          | number/null   | ‚ùå       |
| `original_estimate_sec`  | `originalEstimateSec`  | number/null   | ‚ùå       |
| `remaining_estimate_sec` | `remainingEstimateSec` | number/null   | ‚ùå       |

---

## üìä BOARDS

| ‚ùå Database  | ‚úÖ API      | Type | Required |
| ------------ | ----------- | ---- | -------- |
| `project_id` | `projectId` | UUID | ‚úÖ       |

---

## üìÅ PROJECTS

| ‚ùå Database    | ‚úÖ API        | Type | Required |
| -------------- | ------------- | ---- | -------- |
| `workspace_id` | `workspaceId` | UUID | ‚úÖ       |
| `owner_id`     | `ownerId`     | UUID | ‚úÖ       |

---

## üè¢ WORKSPACES

| ‚ùå Database   | ‚úÖ API       | Type    | Required |
| ------------- | ------------ | ------- | -------- |
| `owner_id`    | `ownerId`    | UUID    | ‚úÖ       |
| `is_personal` | `isPersonal` | boolean | ‚úÖ       |

---

## üë• MEMBERSHIPS

| ‚ùå Database    | ‚úÖ API        | Type | Required |
| -------------- | ------------- | ---- | -------- |
| `user_id`      | `userId`      | UUID | ‚úÖ       |
| `workspace_id` | `workspaceId` | UUID | ‚úÖ       |

---

## ‚è±Ô∏è TIME_ENTRIES (Timers)

| ‚ùå Database    | ‚úÖ API        | Type          | Required |
| -------------- | ------------- | ------------- | -------- |
| `task_id`      | `taskId`      | UUID          | ‚úÖ       |
| `user_id`      | `userId`      | UUID          | ‚úÖ       |
| `start_at`     | `startAt`     | ISO 8601      | ‚úÖ       |
| `end_at`       | `endAt`       | ISO 8601/null | ‚ùå       |
| `duration_sec` | `durationSec` | number/null   | ‚ùå       |

---

## üë§ USERS

| ‚ùå Database    | ‚úÖ API        | Type        | Required |
| -------------- | ------------- | ----------- | -------- |
| `firebase_uid` | `firebaseUid` | string/null | ‚ùå       |
| `display_name` | `displayName` | string      | ‚úÖ       |
| `photo_url`    | `photoUrl`    | string/null | ‚ùå       |

---

## üìé ATTACHMENTS

| ‚ùå Database   | ‚úÖ API       | Type        | Required |
| ------------- | ------------ | ----------- | -------- |
| `task_id`     | `taskId`     | UUID        | ‚úÖ       |
| `mime_type`   | `mimeType`   | string/null | ‚ùå       |
| `uploaded_by` | `uploadedBy` | UUID/null   | ‚ùå       |

---

## ‚úÖ CHECKLIST_ITEMS

| ‚ùå Database    | ‚úÖ API        | Type    | Required |
| -------------- | ------------- | ------- | -------- |
| `checklist_id` | `checklistId` | UUID    | ‚úÖ       |
| `is_done`      | `isDone`      | boolean | ‚úÖ       |

---

## üí¨ TASK_COMMENTS

| ‚ùå Database | ‚úÖ API   | Type | Required |
| ----------- | -------- | ---- | -------- |
| `task_id`   | `taskId` | UUID | ‚úÖ       |
| `user_id`   | `userId` | UUID | ‚úÖ       |

---

## üè∑Ô∏è TASK_LABELS

| ‚ùå Database | ‚úÖ API    | Type | Required |
| ----------- | --------- | ---- | -------- |
| `task_id`   | `taskId`  | UUID | ‚úÖ       |
| `label_id`  | `labelId` | UUID | ‚úÖ       |

---

## üèÉ SPRINTS

| ‚ùå Database  | ‚úÖ API      | Type          | Required |
| ------------ | ----------- | ------------- | -------- |
| `project_id` | `projectId` | UUID          | ‚úÖ       |
| `start_date` | `startDate` | ISO 8601/null | ‚ùå       |
| `end_date`   | `endDate`   | ISO 8601/null | ‚ùå       |

---

## üìÖ EVENTS

| ‚ùå Database    | ‚úÖ API        | Type      | Required |
| -------------- | ------------- | --------- | -------- |
| `task_id`      | `taskId`      | UUID/null | ‚ùå       |
| `workspace_id` | `workspaceId` | UUID      | ‚úÖ       |
| `created_by`   | `createdBy`   | UUID      | ‚úÖ       |
| `start_time`   | `startTime`   | ISO 8601  | ‚úÖ       |
| `end_time`     | `endTime`     | ISO 8601  | ‚úÖ       |
| `all_day`      | `allDay`      | boolean   | ‚úÖ       |

---

## üîó EXTERNAL_EVENTS

| ‚ùå Database         | ‚úÖ API            | Type          | Required |
| ------------------- | ----------------- | ------------- | -------- |
| `event_id`          | `eventId`         | UUID          | ‚úÖ       |
| `provider_event_id` | `providerEventId` | string        | ‚úÖ       |
| `html_link`         | `htmlLink`        | string/null   | ‚ùå       |
| `last_synced_at`    | `lastSyncedAt`    | ISO 8601/null | ‚ùå       |

---

## üîê INTEGRATION_TOKENS

| ‚ùå Database        | ‚úÖ API           | Type          | Required |
| ------------------ | ---------------- | ------------- | -------- |
| `user_id`          | `userId`         | UUID          | ‚úÖ       |
| `account_email`    | `accountEmail`   | string/null   | ‚ùå       |
| `external_user_id` | `externalUserId` | string/null   | ‚ùå       |
| `access_token`     | `accessToken`    | string        | ‚úÖ       |
| `refresh_token`    | `refreshToken`   | string/null   | ‚ùå       |
| `token_type`       | `tokenType`      | string/null   | ‚ùå       |
| `expires_at`       | `expiresAt`      | ISO 8601/null | ‚ùå       |

---

## üì± USER_DEVICES

| ‚ùå Database      | ‚úÖ API         | Type          | Required |
| ---------------- | -------------- | ------------- | -------- |
| `user_id`        | `userId`       | UUID          | ‚úÖ       |
| `fcm_token`      | `fcmToken`     | string        | ‚úÖ       |
| `device_model`   | `deviceModel`  | string/null   | ‚ùå       |
| `app_version`    | `appVersion`   | string/null   | ‚ùå       |
| `is_active`      | `isActive`     | boolean       | ‚úÖ       |
| `last_active_at` | `lastActiveAt` | ISO 8601/null | ‚ùå       |

---

## üîî NOTIFICATIONS

| ‚ùå Database    | ‚úÖ API        | Type          | Required |
| -------------- | ------------- | ------------- | -------- |
| `user_id`      | `userId`      | UUID          | ‚úÖ       |
| `scheduled_at` | `scheduledAt` | ISO 8601/null | ‚ùå       |
| `sent_at`      | `sentAt`      | ISO 8601/null | ‚ùå       |
| `delivered_at` | `deliveredAt` | ISO 8601/null | ‚ùå       |
| `read_at`      | `readAt`      | ISO 8601/null | ‚ùå       |
| `ttl_sec`      | `ttlSec`      | number/null   | ‚ùå       |
| `retry_count`  | `retryCount`  | number        | ‚úÖ       |
| `last_error`   | `lastError`   | string/null   | ‚ùå       |
| `created_by`   | `createdBy`   | UUID/null     | ‚ùå       |

---

## üîó ISSUE_LINKS

| ‚ùå Database      | ‚úÖ API         | Type | Required |
| ---------------- | -------------- | ---- | -------- |
| `source_task_id` | `sourceTaskId` | UUID | ‚úÖ       |
| `target_task_id` | `targetTaskId` | UUID | ‚úÖ       |
| `link_type`      | `linkType`     | enum | ‚úÖ       |

---

## üëÅÔ∏è WATCHERS

| ‚ùå Database | ‚úÖ API   | Type | Required |
| ----------- | -------- | ---- | -------- |
| `task_id`   | `taskId` | UUID | ‚úÖ       |
| `user_id`   | `userId` | UUID | ‚úÖ       |

---

## üìà TRANSFORMATION RULES

### Pattern:

```
snake_case ‚Üí camelCase
-----------------------
user_id    ‚Üí userId
created_at ‚Üí createdAt
is_active  ‚Üí isActive
html_link  ‚Üí htmlLink
fcm_token  ‚Üí fcmToken
```

### Algorithm:

```javascript
// Replace underscore + lowercase letter with uppercase letter
snake_case.replace(/_([a-z])/g, (_, letter) => letter.toUpperCase());
```

### Examples:

```
project_id              ‚Üí projectId
original_estimate_sec   ‚Üí originalEstimateSec
last_active_at          ‚Üí lastActiveAt
provider_event_id       ‚Üí providerEventId
```

---

## üß™ TESTING

### Quick Test (PowerShell):

```powershell
$response = Invoke-RestMethod -Uri "http://localhost:3000/api/tasks/by-board/YOUR_BOARD_ID" -Headers @{"Authorization"="Bearer TOKEN"}
$response | ConvertTo-Json

# Check if response contains camelCase fields:
# ‚úÖ projectId, boardId, createdAt, updatedAt
# ‚ùå project_id, board_id, created_at, updated_at
```

### Quick Test (cURL):

```bash
curl -H "Authorization: Bearer TOKEN" \
  http://localhost:3000/api/tasks/by-board/YOUR_BOARD_ID \
  | jq '.[0] | keys'

# Expected output: ["assigneeId", "boardId", "createdAt", "id", "projectId", ...]
# NOT: ["assignee_id", "board_id", "created_at", "id", "project_id", ...]
```

---

## ‚úÖ CHECKLIST

### Before starting server:

- [x] TransformInterceptor created
- [x] Registered in main.ts
- [ ] All DTOs reviewed for camelCase

### After starting server:

- [ ] Console shows: "‚úÖ All API responses transformed to camelCase"
- [ ] Test GET endpoints (arrays)
- [ ] Test POST endpoints (single object)
- [ ] Test PATCH endpoints (updates)
- [ ] Verify nested objects
- [ ] Verify null values

---

**Print this and keep it handy when developing!** üìå

---

**Version:** 1.0.0  
**Last Updated:** October 15, 2025  
**Status:** ‚úÖ Reference Ready
